<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

	<head>

		<title>HTTP UserAgent cleaner</title>

<!--#include file="links.inc"-->
		<meta name='yandex-verification' content='724e26076c33bd78' />
		<meta name="yandex-verification" content="9ddc010ddfc95c5e" />

		<meta name="description" content="Повышение приватности, антифишинг, управление сертификатами FireFox">

	</head>

	<body>

<DIV align = center >

<DIV id=maindiv>
<!--#include file="_begin.inc"-->
			<H1>Проблемы с фильтрами, часто не отображающиеся в логах</H1>
			<br><br>
			<!--#include file="_support.inc"-->
			<br>
			<hr>
			<div class=preline>
			

			При работе сайтов работа фильтров, иногда, ломает сайт, однако фильтры в логах не остаются.
			Поэтому, этим фильтрам нужно уделить особое внимание.
			
			<span class=bold>1. Фильтр X-Forwarded-For</span>
			При включении, особенно в режиме "случайно", может вызывать даже ошибку HTTP 500 (Internal Server Error).
			В логах данный фильтр не остаётся, в связи с тем, что срабатывает на каждый запрос. Ошибка происходит именно на сервере и узнать её причину не представляется возможным. Поэтому, если вы не получаете на сайте каких-то данных - этот фильтр является одним из кандидатов на пробное отключение.
			
			
			<span class=bold>2. Фильтры document.cookie и Storage</span>
			Некоторые ajax-сайты имеют защиту или просто функциональность, требующую для работы document.cookie (одноимённое фильтру свойство javascript) или SessionStorage/LocalStorage. При этом часто на сайтах видно срабатывание этого фильтра, даже когда работе он не препятствует работе.
			Симптомы, что фильтр препятствует работе:
			2.1. Иногда возможно бесконечное перенаправление. Страница никак не может загрузится или блокируется FireFox как неверное перенаправление. В "Http Log" (см. кнопку на вкладке "FireFox") видны многократные запросы к одним и тем же адресам на этом сайте.
			2.2. Поиск или другая функциональность сайта не подгружается или всегда выдаёт пустой результат даже там, где результат точно должен быть.
			2.3. Ошибки на сайте, видные в консоле браузера.


			<span class=bold>3. Фильтры hCookies:+ и iCookies (с вкладки "Сторонние")</span>
			Аналогично предыдущему фильтру. Однако в логах не отображается совсем (если только не выдавать информационные логи типа "1"), так как применяется ко всем запросам.
			Кроме этого, для iCookies возможен сброс авторизационной информации каждые n минут (если установлен фильтр "Интервал" на вкладке "HTTP") или сброс при закрытии всех вкладок сайта.


			<span class=bold>4. User-Agent</span>
			Сайт пишет, что браузер устарел и не поддерживается. Возможно - другие ошибки.

			<span class=bold>5. CertsHPKP</span>
			Сайт не загружается или загружается не полностью. В консоле браузера и, скорее всего, в логе есть ошибки, соответствующие неверным сертификатам или неудавшейся проверке HPKP.
			Если вы не используете фильтр CertsHPKP, то это может быть свидетельством атаки на вас с подменой сертификата сервера, к которому вы подключаетесь (или сбоя на сервере) и фильтр тут не причём. Если используете фильтр - это также может быть свидетельством атаки (<a href=http://huac.8vs.ru/indexo5TLS.html>см. подробнее о фильтре CertsHPKP и порядке сброса</a>).
			Для решения необходимо создать для данного домена временное правило CertsHPKP:X для сброса информации (с учётом возможной атаки). При создании правила нужно обратить внимание на то, что правило должно иметь более высокий приоритет, чем правило установки CertHPKP. При успешном сбросе информации HPKP в консоле браузера появляется соответствующая запись.

			<span class=bold>6. Шифры</span>
			При подгрузке страницы FireFox пишет о том, что нет подходящих наборов шифров или сайт частично не работает и есть аналогичные записи в консоле. Это означает, что настройки TLS соединения настроены слишком строго для этого сайта (он использует слишком старую версию TLS или только отключённые наборы шифров).
			
			<span class=bold>7. Плагины</span>
			Видно приглашение установить плагин или надпись типа "для отображения видео необходим плагин Flash". Функции просмотра видео не работают.
			Это может быть как атакой злонамеренного сайта, который не содержит никакого видео и хочет под видом плагина всучить вам вредоносное ПО, так и поведением добросовестного сайта. Добросовестный сайт пытается проверить, если у вас плагин для отображения информации и видит, что его нет. Поэтому инструктирует, что вам нужно установить плагин вместо того, чтобы показать видео. Придётся отключить фильтр "Плагины" на таком сайте, чтобы он понял, что у вас есть соответствующий плагин.
			
			<span class=bold>8. HTTP Authorization</span>
			Иногда происходят проблемы с неудачной авторизацией. При этом в логах не всегда есть соответствующее сообщение.

			
			
			</DIV>


				<!--#include file="_menu.inc"-->

<!--#include file="mcyandex.inc"-->
</BODY>

</html>

